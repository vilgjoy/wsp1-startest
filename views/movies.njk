{% extends "layout.njk" %}

{% block content %}
<main class="wrapper movies-page">
    <form action="/movies" method="GET" class="search-form">
        <input type="text" name="q" placeholder="Search for a movie..." value="{{ q or '' }}">
        <button type="submit">Search</button>
    </form>

    <ul class="movie-list">
        {% for movie in movies %}
        <li class="movie-item">
            <div class="movie-rank">#{{ loop.index }}</div>
            <div class="movie-info">
                <h2 class="movie-title">
                    <a href="/movies/{{ movie.id }}">{{ movie.title }}</a>
                </h2>
                <p class="movie-meta">
                    <span class="movie-year">{{ movie.year }}</span> â€¢ 
                    <span class="movie-director">{{ movie.director }}</span>
                </p>
            </div>
        </li>
        {% endfor %}
    </ul>
</main>
{% endblock %}